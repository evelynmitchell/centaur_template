# Summary 20251027 Centaur Template

## Set up github codespaces

filthy-broomstick

## Install claude code

```bash
curl -fsSL https://claude.ai/install.sh | bash
```

## Claude.md

Used one I had around as template.

## Initial prompt

 I'd like you to review the files in this directory, including summary20251027.md and Claude.md The
  goal of this project is to create a project template that I can use for setting up Claude in github
  codespaces, linting and testing in github actions for a variety of programming languages, including
  python and Rust, I'd like a directory structure that includes a documentation site built with mkdocs,
  testing at the level of unit tests, integration tests and fuzzing. Please ask any questions you may
  have and make any suggestions you think I should consider.

Claude:
Great! I've reviewed your files and current structure. You have a good foundation with the Claude.md
   guidance file. Now let me ask some clarifying questions and provide initial suggestions:

  Questions

  1. Project Structure: Do you envision this as:
    - A mono-repo template supporting multiple languages in one project (e.g., Python calling Rust via
   FFI/PyO3)?
    - Separate templates for each language that users can pick from?
    - A hybrid where the template includes both but they're independent?
  2. Fuzzing Tools: Which fuzzing frameworks would you like to include?
    - Python: Hypothesis (property-based), atheris (coverage-guided)?
    - Rust: cargo-fuzz (libFuzzer), honggfuzz?
  3. Template Usage: Should the template include:
    - Example/demo code showing the structure in action?
    - Just the scaffolding with placeholder files?
    - Both (examples that can be easily removed)?
  4. Additional Languages: You mentioned "variety of programming languages" - beyond Python and Rust,
  are there specific others you want to include initially (Go, TypeScript, etc.)?
  5. CI/CD Depth: For GitHub Actions, do you want:
    - Basic: linting + testing only?
    - Intermediate: + coverage reporting?
    - Advanced: + building artifacts, dependency caching, matrix testing across versions?
  6. Documentation: For mkdocs, should it include:
    - API documentation generation (e.g., mkdocstrings for Python, rust-doc integration)?
    - Just manual documentation structure?

  Initial Suggestions

  Proposed Directory Structure

  centaur_template/
  ├── .devcontainer/           # Codespaces configuration
  │   ├── devcontainer.json
  │   └── Dockerfile (optional)
  ├── .github/
  │   └── workflows/
  │       ├── python-ci.yml
  │       ├── rust-ci.yml
  │       └── docs.yml
  ├── docs/                    # mkdocs documentation
  │   ├── index.md
  │   ├── development/
  │   ├── api/
  │   └── testing/
  ├── python/                  # Python project(s)
  │   ├── src/
  │   ├── tests/
  │   │   ├── unit/
  │   │   ├── integration/
  │   │   └── fuzzing/
  │   ├── pyproject.toml
  │   └── .python-version
  ├── rust/                    # Rust project(s)
  │   ├── src/
  │   ├── tests/
  │   ├── fuzz/
  │   └── Cargo.toml
  ├── scripts/                 # Utility scripts
  ├── Summary/                 # Your daily summaries
  ├── .pre-commit-config.yaml
  ├── mkdocs.yml
  ├── Claude.md
  └── README.md

  Key Improvements to Consider

  1. Codespaces Optimization: Pre-install tools (uv, rust, wasm-pack, mkdocs) in devcontainer to avoid
   setup time
  2. Testing Strategy: Separate test directories by type makes CI workflows clearer (can run unit
  tests fast, integration slower, fuzzing in scheduled runs)
  3. Documentation CI: Auto-deploy docs to GitHub Pages on merge to main
  4. Composite Actions: Create reusable GitHub Actions for common patterns (setup-rust,
  setup-python-uv)
  5. Coverage Reporting: Integrate codecov or coveralls for visibility
  6. Dependency Management:
    - Python: uv with lock files (you already have this in Claude.md)
    - Rust: Cargo.lock committed for applications

  Would you like me to start implementing based on your answers, or do you have specific preferences I
   should incorporate first?

## User Responses

1. Hybrid template with both Python and Rust independent but coexisting
2. Fuzzing: Python - Hypothesis + atheris; Rust - cargo-fuzz + honggfuzz
3. Template with example code that can be easily removed
4. No additional languages initially
5. All three CI/CD levels (basic → intermediate → advanced)
6. API documentation generation included

## Implementation Complete

### Structure Created

✅ .devcontainer/ - Codespaces configuration with auto-setup script
✅ .github/workflows/ - Three CI/CD workflows (Python, Rust, Docs)
✅ docs/ - MkDocs documentation site with API reference
✅ python/ - Complete Python project with src/ and tests/
✅ rust/ - Complete Rust project with src/, tests/, and fuzz/
✅ .pre-commit-config.yaml - Multi-language pre-commit hooks
✅ .gitignore - Comprehensive ignore file
✅ README.md - Detailed usage instructions
✅ Claude.md - Updated with template structure and guidance

### Features Implemented

**Python Project**:
- pyproject.toml with all dev dependencies (pytest, ruff, black, mypy, hypothesis, atheris)
- Example modules: calculator.py, text_utils.py
- Unit tests with parametrized tests
- Integration tests combining modules
- Hypothesis property-based tests
- atheris coverage-guided fuzzing script

**Rust Project**:
- Cargo.toml with edition 2024, rust-version 1.85
- Example modules: calculator.rs, text_utils.rs
- Unit tests in #[cfg(test)] modules
- Integration tests in tests/
- cargo-fuzz targets with libFuzzer
- WASM support configuration

**CI/CD Workflows**:
- Level 1 (Basic): Linting (ruff, black, mypy, rustfmt, clippy)
- Level 2 (Intermediate): Testing + coverage + matrix builds
- Level 3 (Advanced): Fuzzing + artifacts + multi-platform + docs deployment

**Documentation**:
- MkDocs with Material theme
- Auto-generated API docs (mkdocstrings for Python, cargo doc for Rust)
- Comprehensive guides: Getting Started, Python Setup, Rust Setup, Fuzzing
- Deployment to GitHub Pages configured

**Code Quality**:
- Pre-commit hooks for Python (ruff, black, mypy, bandit)
- Pre-commit hooks for Rust (rustfmt, clippy)
- General hooks (trailing whitespace, YAML/TOML checks, large files)
- Security checks included

### Key Design Decisions

1. **Independent Projects**: Python and Rust can be used separately or together
2. **Example Code**: Includes working examples demonstrating best practices
3. **Three-Level Testing**: Unit → Integration → Fuzzing
4. **Comprehensive Documentation**: Both user guides and API reference
5. **Modern Tooling**: uv for Python (fast), edition 2024 for Rust
6. **CI/CD Flexibility**: Basic checks on every push, heavy fuzzing scheduled

### Files Created (Total: 40+)

**Configuration**: 6 files
**Documentation**: 8 files
**Python Code**: 12 files (src + tests)
**Rust Code**: 8 files (src + tests + fuzz)
**CI/CD**: 3 workflows
**Support**: README, Claude.md, .gitignore, .pre-commit-config.yaml

### Next Steps for Users

1. Click "Use this template" on GitHub
2. Open in Codespaces (auto-installs everything)
3. Remove example code
4. Add their own code following established patterns
5. Update project metadata (names, authors)
6. Configure GitHub Pages
7. Optional: Add Codecov token for coverage badges

## Good Practices Learned

1. **Rust Edition 2024**: Updated from 2021 after user correction
2. **Separate Test Directories**: Makes CI workflows cleaner and faster
3. **Example Code as Teaching Tool**: Shows best practices in action
4. **Multi-Level CI/CD**: Balance between fast feedback and thorough testing
5. **Template-Specific Guidance**: Added section in Claude.md for working with templates
6. **Independent Language Projects**: More flexible than forced mono-repo
